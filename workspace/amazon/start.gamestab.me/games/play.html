<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>Play Gamestab</title>
    <meta name="description" content="GamesTab is making browsing AWESOME.">
    <meta name="keywords" content="New Tab, Games, Launcher, Social, Dashboard">
    <link rel="icon" type="image/png" href="../img/favicons/32x32.png">

    <link href='http://fonts.googleapis.com/css?family=Audiowide' rel='stylesheet' type='text/css'>
    <style type="text/css" media="screen">
        a {
            text-decoration: none;
        }
        .game {
            max-width: 950px;
            max-height: 540px;
            margin: 0 auto;
            text-align: center;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.31);
        }
    </style>

    <!-- shareThis scripts -->
    <script type="text/javascript">
        var switchTo5x = true;
    </script>
    <script type="text/javascript" src="http://w.sharethis.com/button/buttons.js"></script>
    <script type="text/javascript">
        stLight.options(
        {
            publisher: "9a0ce388-f374-4627-ba2e-6bc11639501e",
            doNotHash: true,
            doNotCopy: true,
            hashAddressBar: false
        });
    </script>
</head>

<body style="background: url(../img/wallpapers/default.jpg); font-family: Audiowide">
    <section>
        <div class="game">
        </div>
    </section>

    <section>
        <div class="social-share" style="text-align:center;margin-top:100px;z-index:500000">
            <span class='st_fblike_vcount' st_url="https://www.facebook.com/gamestabapp" displayText='Facebook Like'></span>
            <span class='st_plusone_vcount' st_url='https://chrome.google.com/webstore/detail/gamestab/amlhfkalaoikfbpoolhpdhignhjhlhko' displayText='Google +1'></span>
            <span class='st_twitter_vcount' st_url="https://start.gamestab.me" st_title="Been playin' and enjoin' @Gamestabapp" displayText='Tweet'></span>
            <span class='st_email_vcount' displayText='Email'></span>
        </div>
    </section>

    <footer style="text-align:center;font-size:16px;margin-top:60px;z-index:10000">
        <a href="http://start.gamestab.me" target="_self">
            <img src="http://gamestab.me/img/logo.png" alt="gamestab logo" />
        </a>
        <br />

        <div style="margin-top:20px;">
            Copyright (c) @2014 by gamestab.me
        </div>
    </footer>


    <script>
        var games = {
            'black-sun':
            {
                width: '950',
                height: '540',
                theme: '1'
            },
            'rail-rush-worlds':
            {
                width: '640',
                height: '640',
                theme: '1'
            },
            'saloon-brawl-2':
            {
                width: '680',
                height: '510',
                theme: '1'
            },
            'urban-basketball':
            {
                width: '700',
                height: '400',
                theme: '1'
            },
            'western-front-1914':
            {
                width: '680',
                height: '520',
                theme: '1'
            },
            'motocross-nitro':
            {
                width: '900',
                height: '600',
                theme: '1'
            },
            'rail-rush-worlds':
            {
                width: '640',
                height: '640',
                theme: '1'
            },
            '8-ball-pool-multiplayer':
            {
                width: '750',
                height: '520',
                theme: '1'
            }
        }

        var gameName = document.location.search.slice(1);
         //set default
        gameName = games[gameName] ? gameName : 'black-sun'
        console.debug('playing ' + gameName);

        var game = games[gameName];

        var div = document.createElement('div');
        div.id = 'miniclip-game-embed';
        div.dataset.gameName = gameName;
        div.dataset.width = game.width;
        div.dataset.height = game.height;
        div.dataset.theme = game.theme;

        var gameDiv = document.getElementsByClassName('game')[0];
        gameDiv.style.width = game.width + 'px';
        gameDiv.style.height = game.height + 'px';
        gameDiv.appendChild(div);

        var getTitle = function(name)
        {
            return name[0].toUpperCase() + name.slice(1).replace(/-(\w)/g, function(g)
            {
                return ' ' + g[1].toUpperCase();
            });
        };

        var titleName = getTitle(gameName);
        document.getElementsByTagName('title')[0].innerText = 'Play ' + titleName;

        var script = document.createElement('script');
        script.type = 'text/javascript';
        script.src = "http://static.miniclipcdn.com/js/game-embed.js";
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(script, s);
    </script>
</body>

</html>
